<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Web App | Workout Planner</title>
  <style>
    body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#0b1220;color:#e5e7eb}
    .wrap{width:min(900px,92%);margin:36px auto}
    .card{background:#111827;border-radius:16px;padding:20px;box-shadow:0 14px 28px rgba(0,0,0,.35)}
    h1{margin:0 0 10px 0;font-size:28px}
    .muted{color:#9ca3af}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-top:12px}
    input,select,button{padding:10px 12px;border-radius:12px;border:0;font-size:16px}
    input,select{background:#0b1220;color:#e5e7eb;border:1px solid #1f2937}
    button{cursor:pointer;background:#2563eb;color:#fff}
    button.secondary{background:#374151}
    button.danger{background:#dc2626}
    .grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:14px}
    .panel{background:#0b1220;border:1px solid #1f2937;border-radius:16px;padding:14px}
    .big{font-size:40px;font-weight:800;letter-spacing:1px}
    a{color:#93c5fd;text-decoration:none}
    a:hover{text-decoration:underline}
    ul{margin:10px 0 0 18px}
    .pill{display:inline-block;padding:6px 10px;border-radius:999px;background:#1f2937;font-size:13px}
    @media(max-width:760px){.grid{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="row" style="justify-content:space-between">
        <h1>Workout Planner <span class="pill">Single Page</span></h1>
        <div class="row" style="margin-top:0">
          <a href="index.html">Home</a>
          <span class="muted">•</span>
          <a href="resume.html">Resume</a>
          <span class="muted">•</span>
          <a href="scratch.html">Scratch</a>
        </div>
      </div>

      <p class="muted">
        Build a quick session plan, track completed sets, and keep a simple log. This stays lightweight and easy to use.
      </p>

      <div class="grid">
        <div class="panel">
          <h2 style="margin:0 0 8px 0;font-size:18px">Session Builder</h2>
          <div class="row">
            <label class="muted" for="lift">Lift</label>
            <input id="lift" type="text" placeholder="e.g., Incline Press">
            <label class="muted" for="sets">Sets</label>
            <input id="sets" type="number" min="1" max="20" value="3">
          </div>
          <div class="row">
            <label class="muted" for="reps">Reps</label>
            <input id="reps" type="number" min="1" max="50" value="8">
            <label class="muted" for="rpe">RPE</label>
            <select id="rpe">
              <option>6</option><option>7</option><option selected>8</option><option>9</option><option>10</option>
            </select>
          </div>
          <div class="row">
            <button id="add">Add to Plan</button>
            <button id="clear" class="danger">Clear Plan</button>
          </div>
          <p class="muted" id="status" style="margin:10px 0 0 0">Plan is empty.</p>
        </div>

        <div class="panel">
          <h2 style="margin:0 0 8px 0;font-size:18px">Today’s Plan</h2>
          <div class="big" id="count">0</div>
          <p class="muted" style="margin:6px 0 0 0">items in the plan</p>
          <ul id="list"></ul>
          <div class="row">
            <button id="export" class="secondary">Copy Log</button>
          </div>
        </div>
      </div>
    </div>
  </div>

<script>
  const liftEl = document.getElementById("lift");
  const setsEl = document.getElementById("sets");
  const repsEl = document.getElementById("reps");
  const rpeEl = document.getElementById("rpe");
  const addBtn = document.getElementById("add");
  const clearBtn = document.getElementById("clear");
  const exportBtn = document.getElementById("export");
  const listEl = document.getElementById("list");
  const countEl = document.getElementById("count");
  const statusEl = document.getElementById("status");

  const plan = [];

  function clampInt(v, min, max, fallback){
    const n = Number(v);
    if(!Number.isFinite(n)) return fallback;
    return Math.min(max, Math.max(min, Math.floor(n)));
  }

  function render(){
    listEl.innerHTML = "";
    for(const item of plan){
      const li = document.createElement("li");
      li.textContent = item;
      listEl.appendChild(li);
    }
    countEl.textContent = String(plan.length);
    statusEl.textContent = plan.length ? "Plan ready." : "Plan is empty.";
  }

  addBtn.addEventListener("click", () => {
    const lift = (liftEl.value || "").trim();
    const sets = clampInt(setsEl.value, 1, 20, 3);
    const reps = clampInt(repsEl.value, 1, 50, 8);
    const rpe = (rpeEl.value || "8").trim();

    if(!lift){
      statusEl.textContent = "Enter a lift name first.";
      return;
    }

    plan.push(`${lift} — ${sets} x ${reps} @ RPE ${rpe}`);
    liftEl.value = "";
    liftEl.focus();
    render();
  });

  clearBtn.addEventListener("click", () => {
    plan.length = 0;
    render();
  });

  exportBtn.addEventListener("click", async () => {
    const text = plan.join("\n");
    if(!text){
      statusEl.textContent = "Nothing to copy yet.";
      return;
    }
    try{
      await navigator.clipboard.writeText(text);
      statusEl.textContent = "Copied to clipboard.";
    }catch(e){
      statusEl.textContent = "Copy failed in this browser.";
    }
  });

  render();
</script>
</body>
</html>
