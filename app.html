<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Web App | Workout Planner</title>
  <link rel="stylesheet" href="css/scratch.css">
</head>
<body>
  <div class="topbar" id="top">
    <div class="container">
      <div class="brand">Workout Planner</div>
      <div class="nav">
        <a href="index.html">Home</a>
        <a href="resume.html">Resume</a>
        <a href="scratch.html">Scratch</a>
        <a href="#app">App</a>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="hero" id="app">
      <h1>Workout Planner</h1>
      <p>
        Build a simple session plan, track completed sets, and keep a clean log you can copy and reuse.
      </p>
      <div class="cta-row">

      </div>
    </div>

    <div class="grid">
      <div class="card" id="builder">
        <h2>Session Builder</h2>
        <p class="note">Add items to your plan using consistent inputs for sets, reps, and effort.</p>

        <div class="form-row">
          <label for="lift">Lift</label>
          <input id="lift" type="text" placeholder="e.g., Incline Press">
        </div>

        <div class="form-row">
          <label for="sets">Sets</label>
          <input id="sets" type="number" min="1" max="20" value="3">
        </div>

        <div class="form-row">
          <label for="reps">Reps</label>
          <input id="reps" type="number" min="1" max="50" value="8">
        </div>

        <div class="form-row">
          <label for="rpe">RPE</label>
          <select id="rpe">
            <option>6</option>
            <option>7</option>
            <option selected>8</option>
            <option>9</option>
            <option>10</option>
          </select>
        </div>

        <div class="cta-row">
          <button class="btn" id="add" type="button">Add to Plan</button>
          <button class="btn btn-outline" id="clear" type="button">Clear Plan</button>
        </div>

        <p class="note" id="status">Plan is empty.</p>
      </div>

      <div class="card" id="plan">
        <h2>Today’s Plan</h2>
        <div class="stat">
          <div class="stat-number" id="count">0</div>
          <div class="stat-label">items</div>
        </div>

        <ul id="list"></ul>

        <div class="cta-row">
          <button class="btn btn-outline" id="copy" type="button">Copy Log</button>
          <a class="btn btn-outline" href="#top">Back to Top</a>
        </div>
      </div>
    </div>

    <div class="footer">
      <small>© <span id="year"></span> Abraham Palomeque</small>
    </div>
  </div>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    const liftEl = document.getElementById("lift");
    const setsEl = document.getElementById("sets");
    const repsEl = document.getElementById("reps");
    const rpeEl = document.getElementById("rpe");
    const addBtn = document.getElementById("add");
    const clearBtn = document.getElementById("clear");
    const copyBtn = document.getElementById("copy");

    const listEl = document.getElementById("list");
    const countEl = document.getElementById("count");
    const statusEl = document.getElementById("status");

    const plan = [];

    function clampInt(v, min, max, fallback) {
      const n = Number(v);
      if (!Number.isFinite(n)) return fallback;
      return Math.min(max, Math.max(min, Math.floor(n)));
    }

    function render() {
      listEl.innerHTML = "";
      for (const item of plan) {
        const li = document.createElement("li");
        li.textContent = item;
        listEl.appendChild(li);
      }
      countEl.textContent = String(plan.length);
      statusEl.textContent = plan.length ? "Plan ready." : "Plan is empty.";
    }

    addBtn.addEventListener("click", () => {
      const lift = (liftEl.value || "").trim();
      const sets = clampInt(setsEl.value, 1, 20, 3);
      const reps = clampInt(repsEl.value, 1, 50, 8);
      const rpe = (rpeEl.value || "8").trim();

      if (!lift) {
        statusEl.textContent = "Enter a lift name first.";
        return;
      }

      plan.push(`${lift} — ${sets} x ${reps} @ RPE ${rpe}`);
      liftEl.value = "";
      liftEl.focus();
      render();
    });

    clearBtn.addEventListener("click", () => {
      plan.length = 0;
      render();
    });

    copyBtn.addEventListener("click", async () => {
      const text = plan.join("\n");
      if (!text) {
        statusEl.textContent = "Nothing to copy yet.";
        return;
      }
      try {
        await navigator.clipboard.writeText(text);
        statusEl.textContent = "Copied to clipboard.";
      } catch (e) {
        statusEl.textContent = "Copy failed in this browser.";
      }
    });

    render();
  </script>

  <style>
    select, input {
      width: 100%;
      box-sizing: border-box;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid #e5e7eb;
      font-size: 16px;
      background: #ffffff;
      color: #111827;
    }

    button.btn {
      border: none;
      cursor: pointer;
    }

    .form-row {
      display: flex;
      flex-direction: column;
      gap: 6px;
      margin-top: 12px;
    }

    .form-row label {
      font-weight: 700;
      color: #0f172a;
    }

    .stat {
      display: flex;
      align-items: baseline;
      gap: 10px;
      margin: 10px 0 12px 0;
    }

    .stat-number {
      font-size: 44px;
      font-weight: 900;
      color: #0f172a;
      line-height: 1;
    }

    .stat-label {
      color: #6b7280;
      font-weight: 700;
    }

    .btn.disabled {
      opacity: 0.6;
      cursor: default;
      pointer-events: none;
    }
  </style>
</body>
</html>
